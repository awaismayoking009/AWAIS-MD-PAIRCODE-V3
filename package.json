{
  "name": "awais-md-paircode-v3",
  "version": "1.0.0",
  "description": "Paircode Generator for Awais MD Bot by Awais Mayoking",
  "main": "index.js",
  "scripts": {
    "start": "node index.js"
  },
  "dependencies": {
    "@whiskeysockets/baileys": "6.6.0",
    "pino": "^8.1.0",
    "qrcode": "^1.5.0",
    "express": "^4.18.2"
  }
}

nano index.js
const { makeWASocket, useMultiFileAuthState, jidNormalizedUser, fetchLatestBaileysVersion, delay } = require('@whiskeysockets/baileys');
const Pino = require('pino');
const qrcode = require('qrcode');
const express = require('express');

const app = express();
const PORT = process.env.PORT || 3000;
const PAIRING_NUMBER = process.env.PAIRING_NUMBER || "923040488788"; // Apna number yahan dalen

async function startPairCodeGenerator() {
    const { state } = useMultiFileAuthState('auth_info');
    const { version } = await fetchLatestBaileysVersion();

    const sock = makeWASocket({
        version,
        logger: Pino({ level: 'silent' }),
        printQRInTerminal: false,
        auth: state,
        browser: ["Awais MD PairCode", "Chrome", "1.0.0"],
    });

    if (!sock.authState.creds.registered) {
        await delay(1000);
        const phoneNumber = jidNormalizedUser(PAIRING_NUMBER.replace(/[^0-9]/g, ''));
        const code = await sock.requestPairingCode(phoneNumber);

        // Front-End (Design) ke liye HTML serve karna
        app.get('/', async (req, res) => {
            res.send(`
                <div style="text-align: center; margin-top: 100px;">
                    <h1>Awais MD Bot Pair Code</h1>
                    <p>Use this code in WhatsApp Link Device section:</p>
                    <h2 style="color: blue; font-size: 30px;">${code}</h2>
                    <p>This server will close after successful pairing.</p>
                </div>
            `);
        });
    }

    sock.ev.on('connection.update', (update) => {
        const { connection, lastDisconnect } = update;
        if (connection === 'open') {
            console.log('Pairing successful! Server is closing...');
            process.exit(0);
        }
        if (connection === 'close') {
            if (lastDisconnect.error.output.statusCode !== 401) {
                console.error('Connection closed unexpectedly. Restarting...');
            } else {
                console.log('Credentials revoked. Delete auth_info and restart.');
            }
        }
    });
}

startPairCodeGenerator();

app.listen(PORT, () => {
    console.log(\`PairCode Generator running on port ${PORT}\`);
});

